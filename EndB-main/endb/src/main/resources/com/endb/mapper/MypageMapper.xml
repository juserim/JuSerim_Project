<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
				 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.endb.mapper.MypageMapper">
	<resultMap type="User" id="userResultMap">
		<id column="user_no" property="userNo" />
		<result column="id" property="userId" />
		<result column="passwd" property="passwd" />
		<result column="name" property="name" />
		<result column="birth" property="birth" />
		<result column="email" property="email" />
		<result column="savedfilename" property="savedFileName" />
		<result column="userfilename" property="userFileName" />
	</resultMap>
	<resultMap type="Reservation" id="reservationResultMap">
		<id column="RESERVATION_NUMBER" property="reservationNumber" />
		<result column="check_in" property="checkIn" />
		<result column="check_out" property="checkOut" />
		<result column="room_id" property="roomId" />
		<result column="price" property="price" />
		<result column="adult" property="adult" />
		<result column="kid" property="kid" />
		<result column="user_no" property="userNo" />
	</resultMap>
	<update id="editInfo" parameterType="User">
		UPDATE user SET name =
		#{name}, email = #{email},
		birth = #{birth}, savedfilename =
		#{savedFileName}, userfilename =
		#{userFileName} WHERE user_no =
		#{userNo}
	</update>
	<select id="findUserInfo" parameterType="Int"
		resultMap="userResultMap">
		SELECT *FROM user WHERE user_no = #{userNo}
	</select>
	<delete id="userDelete" parameterType="Int">
		DELETE FROM user WHERE
		user_no = #{userNo}
	</delete>
	<select id="reservationInfo" parameterType="Int"
		resultMap="reservationResultMap">
		SELECT *FROM reservation WHERE user_no = #{userNo}
	</select>
	<select id="boardInfo" parameterType="Int" resultType="board">
		SELECT *FROM room WHERE user_no = #{userNo}
	</select>

</mapper>